# Linux系统

2024年9月4日 叶茂林

### 知识链接

### IO模型

#### IO多路复用

IO多路复用允许单个进程同时管理多个IO流，通过使用系统调用（如select、poll、epoll等）监视多个文件描述符，等待其中的可读可写状态改变，而无需为每个IO操作创建一个线程或进程，用于网络编程和高并发场景，减少资源消耗和上下文切换的开销

##### Select

通过一个文件描述符集合来监听，每次监听都需要构造一次，将整个集合从用户空间拷贝到内核空间，监听的时候线性扫描所有文件描述符，监听的数量有上限1024

##### Poll

Poll没有监听上限，不需要每次构造，但同样线性扫描

##### Epoll

Epoll用红黑树监听所有文件描述符，有状态变化的文件描述符被放到一个链表里面返回，没有监听的数量限制，新增监听只需要执行红黑树的一次插入操作

#### 阻塞IO

进程在执行IO操作时会被阻塞，等待数据的读取或写入完成后才能继续执行

#### 非阻塞IO

进程在执行IO操作时不会被阻塞，进程会立即返回并继续执行其他任务

#### 信号驱动IO

进程可以注册一个信号处理程序，当IO操作完成时，内核会发送一个信号给进程，进程可以在信号处理程序中处理IO操作

#### 异步IO

进程发起IO请求后，可以继续执行其他任务，内核会在IO操作完成时通知进程

### 进程

#### 进程内存布局

代码段、数据段（初始化的静态、全局变量）、BSS（未初始化的静态、全局变量）、堆、栈、文件映射段

#### 信号

SIGINI：终止进程，CTRL C

SIGTSTP：挂起进程，CTRL Z

SIGKILL：立刻杀死进程

SIGTERM：进程自然死亡

SIGCHLD：子进程退出时向父进程发送的信号
